<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.36" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://github.com/noErrorNoBug/docs/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html"><meta property="og:site_name" content="后端技术笔记"><meta property="og:title" content="title"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><link rel="icon" href="./favicon.ico"><meta name="author" content="noErrorNoBug"><meta name="keywords" content="java,JVM,并发,算法,mysql,redis,mongodb,elasticsearch,spring,springboot,netty,mq,kafka,分布式,微服务,商城,秒杀,数据仓储,网络协议,Docker,Linux"><link rel="manifest" href="/docs/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#F0FFF0"><link rel="apple-touch-icon" href="/icons/icon-192x192.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="white"><link rel="mask-icon" href="/icons/icon-256x256.png" color="#F0FFF0"><meta name="msapplication-TileImage" content="/icons/icon-384x384.png"><meta name="msapplication-TileColor" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>title | 后端技术笔记</title><meta name="description" content="noErrorNoBug(sunqiang)的后端技术笔记">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/docs/assets/style.004f05f4.css">
    <link rel="modulepreload" href="/docs/assets/app.7eb989d9.js"><link rel="modulepreload" href="/docs/assets/数据持久化原理.html.c21b12e5.js"><link rel="modulepreload" href="/docs/assets/数据持久化原理.html.d97501e9.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/docs/" class="home-link"><img class="logo light" src="/docs/logo.svg" alt="后端技术笔记"><img class="logo dark light" src="/docs/logo.svg" alt="后端技术笔记"><span class="site-name hide-in-pad">后端技术笔记</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="面试题"><span class="title"><!---->面试题</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/docs/questions/Java%E9%9D%A2%E8%AF%95%E9%A2%98.html" class="nav-link" arialabel="Java面试题"><!---->Java面试题<!----></a></li><li class="dropdown-item"><a href="/docs/questions/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%AD%E9%97%B4%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98.html" class="nav-link" arialabel="数据存储中间件面试题"><!---->数据存储中间件面试题<!----></a></li><li class="dropdown-item"><a href="/docs/questions/%E6%A1%86%E6%9E%B6%E4%B8%AD%E9%97%B4%E4%BB%B6%E9%9D%A2%E8%AF%95%E9%A2%98.html" class="nav-link" arialabel="框架中间件面试题"><!---->框架中间件面试题<!----></a></li><li class="dropdown-item"><a href="/docs/questions/%E5%88%86%E5%B8%83%E5%BC%8F%E5%92%8C%E5%BE%AE%E6%9C%8D%E5%8A%A1%E9%9D%A2%E8%AF%95%E9%A2%98.html" class="nav-link" arialabel="分布式和微服务面试题"><!---->分布式和微服务面试题<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="Java"><span class="title"><!---->Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>面向对象|基础</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/basic/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B.html" class="nav-link" arialabel="面向对象特性"><!---->面向对象特性<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/basic/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" class="nav-link" arialabel="Java基础知识"><!---->Java基础知识<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/basic/Java%E6%B3%9B%E5%9E%8B%E6%9C%BA%E5%88%B6.html" class="nav-link" arialabel="Java高级特性"><!---->Java高级特性<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JAVA 集合框架</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Collection 集合"><!---->Collection 集合<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Map 集合"><!---->Map 集合<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="并发集合框架"><!---->并发集合框架<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JAVA 并发框架</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="并发理论基础"><!---->并发理论基础<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="多线程基础"><!---->多线程基础<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="关键字详解"><!---->关键字详解<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="集合与并发集合"><!---->集合与并发集合<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="线程池"><!---->线程池<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="CAS原理和原子类"><!---->CAS原理和原子类<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="AQS原理和锁机制"><!---->AQS原理和锁机制<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="并发流程控制"><!---->并发流程控制<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Disruptor框架"><!---->Disruptor框架<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="ThreadLocal"><!---->ThreadLocal<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="并发设计模式"><!---->并发设计模式<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JAVA IO框架</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="JAVA IO"><!---->JAVA IO<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="JAVA NIO"><!---->JAVA NIO<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JVM原理</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/jvm/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6.html" class="nav-link" arialabel="JVM类加载机制"><!---->JVM类加载机制<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/jvm/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6.html" class="nav-link" arialabel="JVM内存知识"><!---->JVM内存知识<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/jvm/%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.html" class="nav-link" arialabel="JVM垃圾回收原理"><!---->JVM垃圾回收原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/jvm/%E5%AF%B9%E8%B1%A1%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html" class="nav-link" arialabel="JVM调优思路"><!---->JVM调优思路<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/jvm/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html" class="nav-link" arialabel="JVM线上调试排查"><!---->JVM线上调试排查<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JAVA 版本特性</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/java/version/java8/java8%E7%89%B9%E6%80%A7%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB.html" class="nav-link" arialabel="Java8特性"><!---->Java8特性<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/version/java11/java9%E5%88%B0java11%E7%89%B9%E6%80%A7%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB.html" class="nav-link" arialabel="java8升java11特性"><!---->java8升java11特性<!----></a></li><li class="dropdown-subitem"><a href="/docs/java/version/java17/java12%E5%88%B0java17%E7%89%B9%E6%80%A7%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB.html" class="nav-link" arialabel="java11升java17特性"><!---->java11升java17特性<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="算法"><span class="title"><!---->算法</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数据结构</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="复杂度析分析"><!---->复杂度析分析<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="线性表相关数据结构"><!---->线性表相关数据结构<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="树相关数据结构"><!---->树相关数据结构<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="堆相关数据结构"><!---->堆相关数据结构<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="图相关数据结构"><!---->图相关数据结构<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>常用算法</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="排序算法"><!---->排序算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="查找算法"><!---->查找算法<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>算法思想</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="动态规划"><!---->动态规划<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分治算法"><!---->分治算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="二分法"><!---->二分法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="搜索算法"><!---->搜索算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="回溯算法"><!---->回溯算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="贪心算法"><!---->贪心算法<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>领域算法实践</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="加密算法"><!---->加密算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="字符串匹配算法"><!---->字符串匹配算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据一致性算法"><!---->数据一致性算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="负载均衡算法"><!---->负载均衡算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/algorithm/domain/%E9%99%90%E6%B5%81%E7%AE%97%E6%B3%95.html" class="nav-link" arialabel="限流算法"><!---->限流算法<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据处理算法"><!---->数据处理算法<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="数据库"><span class="title"><!---->数据库</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数据库基础</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据库理论"><!---->数据库理论<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="SQL语言"><!---->SQL语言<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>SQL数据库 Mysql</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="索引原理"><!---->索引原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="存储引擎"><!---->存储引擎<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="架构原理"><!---->架构原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="事务机制"><!---->事务机制<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="性能优化"><!---->性能优化<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分库分表和读写分离"><!---->分库分表和读写分离<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Nosql数据库 Redis</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据类型和数据结构"><!---->数据类型和数据结构<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高可用集群原理"><!---->高可用集群原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据持久化原理"><!---->数据持久化原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高性能原理"><!---->高性能原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="性能优化要点"><!---->性能优化要点<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="典型应用实现"><!---->典型应用实现<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Nosql数据库 ElasticSearch</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Elastic Stack生态"><!---->Elastic Stack生态<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="查询和聚合"><!---->查询和聚合<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="复杂搜索策略"><!---->复杂搜索策略<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="聚合匹配"><!---->聚合匹配<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据建模"><!---->数据建模<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="核心原理"><!---->核心原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="优化思路"><!---->优化思路<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="框架|中间件"><span class="title"><!---->框架|中间件</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring Framework</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="控制反转(IOC)"><!---->控制反转(IOC)<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="面向切面编程(AOP)"><!---->面向切面编程(AOP)<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="事务机制"><!---->事务机制<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="MVC机制"><!---->MVC机制<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="基于注解配置"><!---->基于注解配置<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="WebFlux"><!---->WebFlux<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring Boot</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="约定大于配置"><!---->约定大于配置<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="自动装配原理"><!---->自动装配原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="组件集成"><!---->组件集成<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ORM框架</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Mybatis核心原理"><!---->Mybatis核心原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Mybatis-Plus简化开发"><!---->Mybatis-Plus简化开发<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="WEB容器"><span class="title"><!---->WEB容器</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Nginx容器</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="架构及配置"><!---->架构及配置<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="性能调优"><!---->性能调优<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Tomcat容器</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Web请求过程"><!---->Web请求过程<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="启停原理"><!---->启停原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="网络原理"><!---->网络原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="热加载和热部署"><!---->热加载和热部署<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Netty容器</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Netty核心架构"><!---->Netty核心架构<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Netty线程模型实现原理"><!---->Netty线程模型实现原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Netty数据交换实现原理"><!---->Netty数据交换实现原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Netty优化"><!---->Netty优化<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="消息队列"><span class="title"><!---->消息队列</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>RocketMQ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="TODO"><!---->TODO<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Kafka</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Kafka核心原理"><!---->Kafka核心原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="典型应用方案"><!---->典型应用方案<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="调优思路分析"><!---->调优思路分析<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>RabbitMQ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="架构原理"><!---->架构原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="集群原理"><!---->集群原理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="典型应用方案"><!---->典型应用方案<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="微服务"><span class="title"><!---->微服务</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring Cloud 生态</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/microservice/loadbalance/LoadBalancer%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86.html" class="nav-link" arialabel="LoadBalancer:负载均衡器"><!---->LoadBalancer:负载均衡器<!----></a></li><li class="dropdown-subitem"><a href="/docs/microservice/feign/OpenFeign%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86.html" class="nav-link" arialabel="OpenFeign:函数式调用"><!---->OpenFeign:函数式调用<!----></a></li><li class="dropdown-subitem"><a href="/docs/microservice/gateway/Gateway%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86.html" class="nav-link" arialabel="Gateway:高可用网关API"><!---->Gateway:高可用网关API<!----></a></li><li class="dropdown-subitem"><a href="/docs/microservice/auth/SpringSecurity%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86.html" class="nav-link" arialabel="Security:认证和授权"><!---->Security:认证和授权<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="SkyWalking:链路追踪"><!---->SkyWalking:链路追踪<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="SpringCloud扩展点"><!---->SpringCloud扩展点<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring Cloud Alibaba 生态</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/microservice/register/%E5%9F%BA%E4%BA%8EAP%E6%9E%B6%E6%9E%84%E4%B8%8B%E7%9A%84Nacos%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%92%8C%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E5%8E%9F%E7%90%86.html" class="nav-link" arialabel="Nacos:服务注册与发现"><!---->Nacos:服务注册与发现<!----></a></li><li class="dropdown-subitem"><a href="/docs/microservice/config/%E5%9F%BA%E4%BA%8ENacos%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%E5%AE%9E%E7%8E%B0.html" class="nav-link" arialabel="Nacos:配置中心"><!---->Nacos:配置中心<!----></a></li><li class="dropdown-subitem"><a href="/docs/microservice/sentinel/%E5%9F%BA%E4%BA%8ESentinel%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E9%99%90%E6%B5%81.html" class="nav-link" arialabel="Sentinel:限流和降级"><!---->Sentinel:限流和降级<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Seata:分布式事务"><!---->Seata:分布式事务<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="方法论|系统设计"><span class="title"><!---->方法论|系统设计</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>开发原则</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="代码设计原则"><!---->代码设计原则<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="代码规范和重构"><!---->代码规范和重构<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="开源协议和系统认证"><!---->开源协议和系统认证<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>设计模式范式</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/patterns/build/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F.html" class="nav-link" arialabel="创建型范式"><!---->创建型范式<!----></a></li><li class="dropdown-subitem"><a href="/docs/patterns/construct/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F.html" class="nav-link" arialabel="结构型范式"><!---->结构型范式<!----></a></li><li class="dropdown-subitem"><a href="/docs/patterns/action/%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F.html" class="nav-link" arialabel="行为型范式"><!---->行为型范式<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>分布式理论</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/methodology/distribution/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%89%B9%E7%82%B9.html" class="nav-link" arialabel="分布式理论和模型"><!---->分布式理论和模型<!----></a></li><li class="dropdown-subitem"><a href="/docs/methodology/transaction/X_OPEN%E4%BA%8B%E5%8A%A1%E6%A8%A1%E5%9E%8B.html" class="nav-link" arialabel="分布式事务理论"><!---->分布式事务理论<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="微服务理论"><!---->微服务理论<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="架构|分布式"><span class="title"><!---->架构|分布式</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>系统架构</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="架构视角及演进"><!---->架构视角及演进<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="架构的模式与核心要素"><!---->架构的模式与核心要素<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高并发架构要素"><!---->高并发架构要素<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高可用架构要素"><!---->高可用架构要素<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高性能架构要素"><!---->高性能架构要素<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>分布式系统设计</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="全局唯一ID"><!---->全局唯一ID<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式锁"><!---->分布式锁<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式事务"><!---->分布式事务<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式缓存"><!---->分布式缓存<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式任务"><!---->分布式任务<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式会话"><!---->分布式会话<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式链路追踪"><!---->分布式链路追踪<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式文件"><!---->分布式文件<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式存储"><!---->分布式存储<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式计算"><!---->分布式计算<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>系统设计案例</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="秒杀系统案例"><!---->秒杀系统案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="后台管理系统案例"><!---->后台管理系统案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据同步案例"><!---->数据同步案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="商城架构案例"><!---->商城架构案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="轻量单体限流框架案例"><!---->轻量单体限流框架案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="轻量消息系统案例"><!---->轻量消息系统案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="OSS单点登录案例"><!---->OSS单点登录案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高可用网关案例"><!---->高可用网关案例<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="认证授权服务案例"><!---->认证授权服务案例<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="大数据"><span class="title"><!---->大数据</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数据同步</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="canal:数据库准实时同步"><!---->canal:数据库准实时同步<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>日志收集</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="ELK日志数据收集"><!---->ELK日志数据收集<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="项目|优化"><span class="title"><!---->项目|优化</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>系统性能优化</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Java编程性能调优"><!---->Java编程性能调优<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="多线程调优"><!---->多线程调优<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="JVM性能检测及调优"><!---->JVM性能检测及调优<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="设计模式调优"><!---->设计模式调优<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="数据库调优"><!---->数据库调优<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="基础设施优化"><!---->基础设施优化<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="系统网络调优"><!---->系统网络调优<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分布式系统优化"><!---->分布式系统优化<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="业务开发优化"><!---->业务开发优化<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>项目重构|项目设计</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="一套分布式高可用架构选型"><!---->一套分布式高可用架构选型<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="商城系统"><!---->商城系统<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="秒杀系统"><!---->秒杀系统<!----></a></li><li class="dropdown-subitem"><a href="/docs/projects/uua/UUA%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%E5%AE%9E%E7%8E%B0%E6%A1%88%E4%BE%8B.html" class="nav-link" arialabel="认证授权系统"><!---->认证授权系统<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="日志中心系统"><!---->日志中心系统<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="基于数据库的订阅中心"><!---->基于数据库的订阅中心<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="高可用网关方案"><!---->高可用网关方案<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="单机可插拔限流框架"><!---->单机可插拔限流框架<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="幂等性框架"><!---->幂等性框架<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="基于Flink的实时推荐系统"><!---->基于Flink的实时推荐系统<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="工具|部署"><span class="title"><!---->工具|部署</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>开发工具</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="常用类库"><!---->常用类库<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="代码质量保障"><!---->代码质量保障<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="常用表达式"><!---->常用表达式<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="代码安全"><!---->代码安全<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Linux|Shell脚本</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Shell脚本"><!---->Shell脚本<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="文本操作命令"><!---->文本操作命令<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="系统操作命令"><!---->系统操作命令<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="系统管理命令"><!---->系统管理命令<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>网络协议|抓包工具</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Http1.1协议"><!---->Http1.1协议<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="WebSocket协议"><!---->WebSocket协议<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Http2协议"><!---->Http2协议<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="TLS/SSL协议"><!---->TLS/SSL协议<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="TCP协议"><!---->TCP协议<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="UDP协议"><!---->UDP协议<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="IP协议"><!---->IP协议<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Docker容器化</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="容器进程管理"><!---->容器进程管理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="容器内存管理"><!---->容器内存管理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="容器存储管理"><!---->容器存储管理<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>代码管理|依赖管理</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Git常用功能"><!---->Git常用功能<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="分支管理模式"><!---->分支管理模式<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="Maven依赖管理"><!---->Maven依赖管理<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="GitHub常用功能"><!---->GitHub常用功能<!----></a></li><li class="dropdown-subitem"><a href="/docs/guide.html" class="nav-link" arialabel="常用开源工具"><!---->常用开源工具<!----></a></li></ul></li></ul></button></div></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/noErrorNoBug" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" arialabelledby="auto" style="display:block;"><title id="auto" lang="en">auto icon</title><g fill="currentColor"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" arialabelledby="dark" style="display:none;"><title id="dark" lang="en">dark icon</title><g fill="currentColor"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" arialabelledby="light" style="display:none;"><title id="light" lang="en">light icon</title><g fill="currentColor"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></g></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar hide-icon"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">SQL数据库 Mysql</span><!----></p><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/docs/db/mysql/sql%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/mysql/%E7%B4%A2%E5%BC%95%E5%8E%9F%E7%90%86.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/mysql/%E7%B4%A2%E5%BC%95%E5%88%86%E6%9E%90%E5%92%8C%E4%BC%98%E5%8C%96.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/mysql/%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E5%92%8C%E9%94%81%E6%9C%BA%E5%88%B6.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/mysql/MVCC%E5%92%8CBufferPool%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/mysql/%E4%B8%BB%E4%BB%8E%E6%9E%B6%E6%9E%84%E5%92%8C%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><!----><span class="title">Nosql数据库 Redis</span><!----></p><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%91%BD%E4%BB%A4.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E7%8E%B0.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E9%AB%98%E6%80%A7%E8%83%BDIO%E6%A8%A1%E5%9E%8B.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#原理及命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="原理及命令"><!---->原理及命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#bgsave的写时复制-cow-机制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="bgsave的写时复制（COW）机制"><!---->bgsave的写时复制（COW）机制<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#save与bgsave对比" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="save与bgsave对比"><!---->save与bgsave对比<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#配置" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="配置"><!---->配置<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#原理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="原理"><!---->原理<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#aof重写" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="AOF重写"><!---->AOF重写<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#rdb和aof如何选择" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="rdb和aof如何选择"><!---->rdb和aof如何选择<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E4%B8%BB%E4%BB%8E%E6%A8%A1%E5%BC%8F%E5%92%8C%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%8E%9F%E7%90%86.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E5%93%A8%E5%85%B5%E9%9B%86%E7%BE%A4%E5%8E%9F%E7%90%86.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4%E5%8E%9F%E7%90%86.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E5%8D%95%E7%BA%BF%E7%A8%8B%E9%98%BB%E5%A1%9E%E7%82%B9%E5%8F%8A%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E5%9F%BA%E4%BA%8ECPU%E7%BB%93%E6%9E%84%E4%BC%98%E5%8C%96.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/Redis%E5%8F%98%E6%85%A2%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E5%86%85%E5%AD%98%E7%A2%8E%E7%89%87%E4%BC%98%E5%8C%96.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E7%BC%93%E5%86%B2%E5%8C%BA%E4%BC%98%E5%8C%96.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E6%97%81%E8%B7%AF%E7%BC%93%E5%AD%98%E5%BA%94%E7%94%A8.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5%E9%80%89%E6%8B%A9.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E5%BC%82%E5%B8%B8%E6%83%85%E5%86%B5%E5%A4%84%E7%90%86.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%AE%9E%E7%8E%B0.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/%E7%A7%92%E6%9D%80%E5%9C%BA%E6%99%AF%E5%BA%94%E7%94%A8.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/redis/Lua%E8%84%9A%E6%9C%AC%E5%92%8C%E9%9B%86%E6%88%90%E6%A1%86%E6%9E%B6.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Nosql数据库 ElasticSearch</span><!----></p><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/docs/db/es/%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E5%92%8C%E5%91%BD%E4%BB%A4.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/es/%E5%A4%8D%E6%9D%82%E6%90%9C%E7%B4%A2%E7%AD%96%E7%95%A5.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/es/%E8%81%9A%E5%90%88%E5%8C%B9%E9%85%8D.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/es/%E6%95%B0%E6%8D%AE%E5%BB%BA%E6%A8%A1.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/es/%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/es/%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/es/ElasticSeach%E9%9B%86%E7%BE%A4%E6%9E%B6%E6%9E%84%E6%96%B9%E6%A1%88.html" class="nav-link sidebar-link sidebar-page" arialabel="ElasticSeach集群架构方案"><!---->ElasticSeach集群架构方案<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/es/%E9%9B%86%E7%BE%A4%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7ElasticView.html" class="nav-link sidebar-link sidebar-page" arialabel="集群监控工具ElasticView"><!---->集群监控工具ElasticView<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/es/Kinaba%E9%83%A8%E7%BD%B2%E5%AE%89%E8%A3%85.html" class="nav-link sidebar-link sidebar-page" arialabel="Kinaba部署安装"><!---->Kinaba部署安装<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/db/es/%E9%9D%A2%E8%AF%95%E9%A2%98.html" class="nav-link sidebar-link sidebar-page" arialabel="title"><!---->title<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->title</h1><div class="article-info"><span class="author-info" arialabel="作者🖊" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://noerrornobug.github.io/docs/" target="_blank" rel="noopener noreferrer">noErrorNoBug(sunqiang)</a></span><span property="author" content="noErrorNoBug(sunqiang)"></span></span><span class="date-info" arialabel="写作日期📅" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2022年3月26日</span><meta property="datePublished" content="2022-03-26T16:52:54.000Z"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#原理及命令" class="router-link-active router-link-exact-active toc-link level2">原理及命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#bgsave的写时复制-cow-机制" class="router-link-active router-link-exact-active toc-link level2">bgsave的写时复制（COW）机制</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#save与bgsave对比" class="router-link-active router-link-exact-active toc-link level2">save与bgsave对比</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#配置" class="router-link-active router-link-exact-active toc-link level2">配置</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#原理" class="router-link-active router-link-exact-active toc-link level2">原理</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#aof重写" class="router-link-active router-link-exact-active toc-link level2">AOF重写</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#rdb和aof如何选择" class="router-link-active router-link-exact-active toc-link level2">rdb和aof如何选择</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><div class="custom-container info"><p class="custom-container-title">相关信息</p><p>文章介绍</p></div><nav class="table-of-contents"><ul><li><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#原理及命令" class="router-link-active router-link-exact-active">原理及命令</a></li><li><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#bgsave的写时复制-cow-机制" class="router-link-active router-link-exact-active">bgsave的写时复制（COW）机制</a></li><li><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#save与bgsave对比" class="router-link-active router-link-exact-active">save与bgsave对比</a></li><li><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#配置" class="router-link-active router-link-exact-active">配置</a></li><li><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#原理" class="router-link-active router-link-exact-active">原理</a></li><li><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#aof重写" class="router-link-active router-link-exact-active">AOF重写</a></li><li><a aria-current="page" href="/docs/db/redis/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86.html#rdb和aof如何选择" class="router-link-active router-link-exact-active">rdb和aof如何选择</a></li></ul></nav><hr><h1 id="rdb快照-snapshot" tabindex="-1"><a class="header-anchor" href="#rdb快照-snapshot" aria-hidden="true">#</a> RDB快照（snapshot）</h1><h2 id="原理及命令" tabindex="-1"><a class="header-anchor" href="#原理及命令" aria-hidden="true">#</a> 原理及命令</h2><p>在<strong>默认</strong>情况下，Redis将<strong>内存数据快照保存到名字为dump.rdb的<strong><strong>二进制</strong></strong>文件中</strong>，可以对redis进行以下设置，让它“<strong>N秒内数据集至少有M个改动</strong>”这一个条件被满足时，<strong>自动保存一次数据集</strong>。</p><p><strong>Redis的RDB快照是全量快照</strong>。</p><p>比如，让redis在“60s内至少有1000个键被改动”，自动保存一次数据集：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 关闭RDB只需要将所有的 save策略注释即可，可以配置多个策略</span>
save <span class="token number">60</span> <span class="token number">10000</span> 
save <span class="token number">900</span> <span class="token number">1</span>
save <span class="token number">300</span> <span class="token number">10</span>

<span class="token comment"># 持久化的位置</span>
dbfilename <span class="token string">&quot;dump.rdb&quot;</span>
<span class="token comment"># 路径(rdb和aof文件都用这一个配置)</span>
<span class="token function">dir</span> <span class="token string">&quot;/usr/local/redis-5.0.3/data/6379&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>还可以<strong>手动</strong>生成RDB快照，进入redis客户端执行<strong>save命令或者bgsave</strong>就可以生成dump.rdb文件，每次执行命令都会生成一个新的快照文件并覆盖原有的快照文件。</p><h2 id="bgsave的写时复制-cow-机制" tabindex="-1"><a class="header-anchor" href="#bgsave的写时复制-cow-机制" aria-hidden="true">#</a> bgsave的写时复制（COW）机制</h2><p>Redis借助操作系统提供的<strong>写时复制</strong>技术，在生成快照的同时，依然可以正常的处理写命令。简单来说，bgsave子进程是由主线程fork生成的，可以共享主线程的所有内存数据。bgsave子进程运行后，开始读取主线程的内存数据，并把他们写入rdb文件。此时，如果主线程对这些数据如果也是读操作，那么主线程与bgsave的子进程互不影响。但是如果主线程对数据进行的是写操作，那么这块数据就<strong>会复制一份生成副本</strong>，<strong>bgsave会把数据副本写入rdb文件</strong>，写入的同时不影响主线程的写操作。</p><h2 id="save与bgsave对比" tabindex="-1"><a class="header-anchor" href="#save与bgsave对比" aria-hidden="true">#</a> save与bgsave对比</h2><table><thead><tr><th style="text-align:left;"><strong>命令</strong></th><th style="text-align:left;"><strong>save</strong></th><th style="text-align:left;"><strong>bgsave(background save)</strong></th></tr></thead><tbody><tr><td style="text-align:left;">IO类型</td><td style="text-align:left;">同步</td><td style="text-align:left;">异步</td></tr><tr><td style="text-align:left;">是否阻塞其他redis命令</td><td style="text-align:left;">阻塞</td><td style="text-align:left;">非阻塞</td></tr><tr><td style="text-align:left;">复杂度</td><td style="text-align:left;">O(n)</td><td style="text-align:left;">O(n)</td></tr><tr><td style="text-align:left;">优点</td><td style="text-align:left;">不消耗额外内存</td><td style="text-align:left;">不阻塞客户端命令</td></tr><tr><td style="text-align:left;">缺点</td><td style="text-align:left;">阻塞客户端命令</td><td style="text-align:left;">需要fork子进程，消耗内存</td></tr></tbody></table><p>配置文件根据条件自动生成rdb文件使用的是bgsave的方式。</p><h1 id="aof-append-only-file" tabindex="-1"><a class="header-anchor" href="#aof-append-only-file" aria-hidden="true">#</a> AOF（append-only file）</h1><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 开启</span>
appendonly <span class="token function">yes</span>
<span class="token comment"># 文件名称</span>
appendfilename <span class="token string">&quot;appendonly.aof&quot;</span>
<span class="token comment"># 路径(rdb和aof文件都用这一个配置)</span>
<span class="token function">dir</span> <span class="token string">&quot;/usr/local/redis-5.0.3/data/6379&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="原理" tabindex="-1"><a class="header-anchor" href="#原理" aria-hidden="true">#</a> 原理</h2><p>由于RDB快照功能并不是非常耐久，如果Redis因为某些原因造成事故停机，那么服务器将丢失最近写入、且未保存到快照的数据。因此Redis加入了AOF方式，<strong>将修改的每一条指令纪录进文件appendonly.aof文件</strong>(先写入os cache，每隔一段时间fsync到磁盘)，<strong>aof日志写入是主线程写的</strong>。</p><p>aof日志是<strong>写后日志</strong>，先把数据存入内存，才记录操作命令。为了避免开销，Redis并不会对日志记录的命令进行语法检查，因此采用写后日志可以<strong>避免语法错误</strong>的出现导致数据无法恢复。同时，由于是命令执行后才写，因此<strong>不会阻塞命令的执行</strong>。</p><p>比如执行命令“set zhangsan 666”，aof文件会有如下数据：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>*3
<span class="token variable">$3</span>
<span class="token builtin class-name">set</span>
<span class="token variable">$8</span>
zhangsan
<span class="token variable">$3</span>
<span class="token number">666</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>这是一种resp协议的格式数据，*后面代表多少个参数，$后代表这个参数有多少个字符。注意，如果<strong>执行带过期时间的命令</strong>，aof文件里记录的不是执行的原始命令，而是<strong>记录key过期的时间戳</strong>。 比如“set lisi 888 ex 1000”命令，aof文件记录如下：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>*3
<span class="token variable">$3</span>
<span class="token builtin class-name">set</span>
<span class="token variable">$4</span>
lisi
<span class="token variable">$3</span>
<span class="token number">888</span>
*3
<span class="token variable">$9</span>
PEXPIREAT
<span class="token variable">$4</span>
lisi
<span class="token variable">$13</span>
<span class="token number">1604249786301</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>可以通过配置文件中如下命令打开aof功能，并通过三个选项配置fsync磁盘的策略：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 开启AOF功能</span>
appendonly <span class="token function">yes</span>
<span class="token comment"># 每次有新命令追加到 AOF 文件时就执行一次 fsync ，非常慢，也非常安全。 </span>
appendfsync always
<span class="token comment"># 每秒 fsync 一次，足够快，并且在故障时只会丢失 1 秒钟的数据。</span>
appendfsync everysec
<span class="token comment"># 从不指定 fsync ，将数据交给操作系统来处理。更快，也更不安全的选择。 </span>
appendfsync no 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>推荐使用每秒一次的策略，可以兼顾速度和安全性</strong>。</p><h2 id="aof重写" tabindex="-1"><a class="header-anchor" href="#aof重写" aria-hidden="true">#</a> AOF重写</h2><p>aof文件中会保存很多没有用的指令，所以aof会定期根据内存的最新数据生成aof文件，通过两个配置可以控制aof的重写频率：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># aof文件至少要达到64M才会自动重写，文件太小恢复速度本来就 很快，重写的意义不大</span>
auto‐aof‐rewrite‐min‐size 64mb
<span class="token comment"># aof文件自上一次重写后文件大小增长了100%则再次触发重写 </span>
auto‐aof‐rewrite‐percentage <span class="token number">100</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>aof也可以手动重写，通过bgrewriteaof重写aof文件，<strong>AOF的重写过程redis也会fork一个子进程完成（bgrewriteaof），不会对redis的主线程有太多的影响</strong>。</p><h2 id="rdb和aof如何选择" tabindex="-1"><a class="header-anchor" href="#rdb和aof如何选择" aria-hidden="true">#</a> rdb和aof如何选择</h2><table><thead><tr><th style="text-align:left;">命令</th><th style="text-align:left;">RDB</th><th style="text-align:left;">AOF</th></tr></thead><tbody><tr><td style="text-align:left;">启动优先级</td><td style="text-align:left;">低</td><td style="text-align:left;">高</td></tr><tr><td style="text-align:left;">体积</td><td style="text-align:left;">小</td><td style="text-align:left;">大</td></tr><tr><td style="text-align:left;">恢复速度</td><td style="text-align:left;">快</td><td style="text-align:left;">慢</td></tr><tr><td style="text-align:left;">数据安全性</td><td style="text-align:left;">容易丢失数据</td><td style="text-align:left;">根据策略决定</td></tr></tbody></table><p>两种策略生产环境可以都启动，恢复数据时，redis一般会优先aof，因为aof的数据安全性更高一些。</p><h1 id="混合持久化" tabindex="-1"><a class="header-anchor" href="#混合持久化" aria-hidden="true">#</a> 混合持久化</h1><p>RDB有明显的数据安全性问题，AOF又有恢复速度慢的缺点，Redis4.0为了解决这个问题，推出了混合持久化（<strong>开启混合持久化必须先开启AOF</strong>）。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>aof‐use‐rdb‐preamble <span class="token function">yes</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果开启了混合持久化，<strong>AOF在重写时</strong>，不再是单纯重写aof文件，而是<strong>将这一刻之前的内存做RDB快照处理，并且将RDB快照内容和本次增量的AOF文件存在一起，保存为.aof文件</strong>，新文件一开始不叫appendonly.aof，等重写完后才进行替换。 因此在数据恢复时就可以通过RDB快照恢复文件，然后将增量部分的aof进行重放，重启效率就会大幅提升。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXQAAAGtCAYAAAAGUo+0AAAgAElEQVR4AezBC3jPdeP/8ef3ve82mx2YzcbYbCan5LAcMndUinKIHCvhjla3Q7eSyq1SUazmnHNERCSW051TStyOc5s7IsSwjZxnbHb4fv/X9/pf3+v6XrvIdKv8Pvfr8bDl5+c7ERGR//MMIiJiCQYREbEEg4iIWIJBREQswSAiIpZgEBERSzCIiIglGERExBIMIiJiCQYREbEEg4iIWIJBREQswSAiIpZgEBERSzCIiIglGERExBIMIiJiCQYREbEEg4iIWIJBREQswSAiIpZgEBERSzCIiIglGERExBIMIiJiCQYREbEEg4iIWIJBREQswSAiIpZgEBERSzCIiIglGERExBIMIiJiCQYREbEEg4iIWIJBREQswSAiIpZgEBERSzCIiIglGERExBIMIiJiCQYREbEEg4iIWIJBREQswSAiIpZgEBERSzCIiIglGERExBIMIiJiCQYREbEEg4iIWIJBREQswSAiIpZgEBERSzCIiIglGERExBIMIiJiCQYREbEEg4iIWIJBREQswSAiIpZgELGQoqIiDh48yPnz5/m9nTt3joMHD+JwOBC5ExhELOTSpUv06tWLVatW8XtbsWIFvXr14urVq/xfsGrVKgYMGECrVq3o0qULYj12RMTyfvzxR0aMGEGzZs3o27cvvr6+iPXYERHL++677/Dy8mLEiBH4+fkh1mRHLO/8+fPs37+fMmXKEBMTQ+nSpfF08eJF/P398fHx4cqVK/zwww8EBQURFxeHt7c3nnJzc8nPzyc4OBin08mxY8fIysrirrvuIjQ0lBvJy8vjp59+4urVq1SvXp2yZcviqaCggCtXrhAQEIDdbuf06dP89NNPREREULVqVYwxXE9mZiZHjx6levXqhIaG8muKioo4duwYmZmZREVFUblyZYwxeMrNzeXatWuUKVMGp9PJkSNHOHXqFDExMURGRnIjDoeD7OxsfH198fPzo7j8/HyuXr1K6dKl8fb25tcUFRVx8OBBLl68SOXKlalcuTI3kpeXx+HDh8nOziYuLo7y5cvj5nA4yM7OxiUzMxNfX1+uXbvGtWvX8PLyIjAwELEWO2JZixcvZsmSJRw/fhwvLy+Kiorw9/fn73//O48//jgueXl5tG7dmsGDB3P69GkWLFiAMYbCwkL8/PwYPnw4LVq0wG3WrFmsXLmSmTNnMnDgQE6fPo3NZsPhcNC0aVPeffddAgIC8LRw4UI++ugjioqKMMbgcDho3LgxI0aMICgoCJedO3fy8ssvk5SUxNKlS9m+fTtuNWvW5P3336dChQq4nT17lldffZX9+/fj5eWFw+GgSZMmvPbaa1zPtm3bePvtt7l48SLGGBwOB+XLl2fEiBHUrVsXt1mzZjF//nwWLFjAK6+8QmZmJm6tWrXijTfewNvbm+KcTic9evSgYsWKzJgxg+KSk5NZuXIlX331FWFhYVzPL7/8wqhRo9izZw/Xrl3D6XTidDpp2LAhb731FmFhYbg5nU7mz5/PtGnTKCoqwhiDw+Ggbt26jBgxgvLly3PixAm6deuGp9atW+NSq1YtZs+ejViLQSxpzZo1jB07lrvuuov58+fz3XffMWXKFOrUqcPo0aPZv38/npYsWcK2bduYO3cumzZtYtmyZTRt2pShQ4eyadMmPOXl5TFw4EC6dOnC2rVr2bhxI0lJSezdu5cBAwbgdDpx+/jjj5k0aRKJiYmsXbuW7777jqlTp3Lq1CkSExMpKirC06hRoyhfvjyfffYZCxcu5JlnnuHAgQOMHTsWt/z8fBITEzl16hTjx49n48aNrF27lurVq/Pee+9R3ObNm3nppZeoXbs2ixYt4vvvv2f+/PlERkbyt7/9jT179lDcyy+/TLt27Vi5ciWTJ0+mRYsWrFmzhiVLlnA9Xl5etG/fnr1795Keno6nvLw81q9fT9OmTQkLC+N6HA4HAwcOZM+ePQwfPpw1a9awYsUKXn31Vf7973+TlJSEp0mTJjF58mSeeeYZVq5cybfffsvEiRPJysqid+/eXL58mQoVKjBz5kxmzpxJQkICfn5+zJw5k5kzZzJs2DDEegxiST/99BONGjVi2LBhxMXFYbfbadCgAS+88AJOp5NvvvkGT+np6SQnJ1OtWjWMMVSoUIGRI0cSERHBlClTcDgcuOXl5REfH8/TTz9NYGAgvr6+NG/enEGDBnHgwAHWrVuHy6lTp5g3bx6NGjWiV69eBAUF4e3tTf369Rk1ahTHjx9n3bp1eAoODmbYsGFUrVqVmJgY+vfvT40aNdi8eTMFBQW4LF26lMzMTJKSkmjSpAk+Pj4EBgbywgsvUKZMGTwVFBQwbtw4qlWrxocffkh0dDReXl7ExcUxceJEKlasyLhx43A6nXhq0qQJf/3rXwkNDSU+Pp5hw4bh5eXFN998w408/vjjGGNYvnw5nr799luuXr1Khw4duJH09HSCgoJ45ZVXaNGiBYGBgYSGhvLEE0/QuHFjNm/eTG5uLi7p6eksXryYLl268MILLxAaGoqPjw+NGjVi8uTJXLx4kVmzZuHj40OdOnWoU6cOZcuWxRhDnTp1qFOnDlWrVkWsxyCWNHDgQCZOnIifnx+eatasSbly5cjMzMRTdHQ0EREReLLZbMTHx3Ps2DFOnjyJp/vuu4/i7r33Xlw2b96My9atW7l27RpPPPEExcXGxhITE8M333yDpw4dOlBcs2bNcDqdZGVl4bJlyxaio6OpU6cOxXXs2BFPhw8fJiMjg86dO2OMwZO3tzedOnXi4MGDZGVl4emJJ57AU2BgIPXq1SMrK4sbCQ8Pp2nTpqxevZrCwkLcVq1aRVhYGE2bNuVGYmJimDlzJm3atKG4hIQEXLKysnDZvHkzhYWFdO/eneIqV65M06ZN+fbbb5H/PXbEsv7zn//w5ZdfcujQIU6fPk1eXh5FRUU4nU4KCgrw1LhxY64nPj6elStXcvLkSaKionCx2Ww0bNiQ4iIiIoiMjOTkyZO4HD9+HJfp06fz8ccfU9ypU6coLi4ujuIqVKiAS15eHi4ZGRlERUVxPVFRUXg6fvw4LjExMVxPTEwMLunp6VSsWBG3qlWrUlyFChU4cOAAv6Zjx45s3ryZzZs306JFC06dOkVqaiq9e/fGGMOvuXLlCsuXL+fbb7/l1KlTnD9/nqKiIhwOBy6FhYW4pKen4+3tTcWKFbmemJgYtmzZQl5eHqVKlUL+d9gRS1q+fDmjRo2icePGPPPMM0RERODv74+XlxeDBg2iOH9/f67H4XDgYrPZcLPZbPj7+3M9RUVFuBljcHnssccICAjgenx8fLhVXl5enD9/nuvJzs7Gk81mw8XhcHA9DocDF2MMt8N9991HREQEK1asoEWLFvzzn//EpX379vyay5cv069fP86cOUPnzp2pVasWZcuWxdvbmy1btjB16lTcjDG4OJ1ObDYbxTmdTmw2G8YY5H+LHbEch8PB+PHjadq0KWPGjMFTQUEB2dnZFHf8+HGuZ8eOHbhUrlwZN4fDwYkTJ4iNjcXTyZMnOXXqFHXr1sUlKioKlzJlytCmTRuK279/P/7+/tyqyMhItm/fTnZ2NkFBQXjasWMHnqpUqYLLkSNHqFu3LsUdPnwYl+joaG4HYwwdOnRgxowZnDlzhlWrVtGoUSMiIiL4NV999RWHDh1i9uzZ1KpVC0/ff/89nqKjoykoKOD48eNUqVKF4g4fPkxERAQ+Pj7I/xaDWM7p06e5evUq1apVo7hFixZx7do1ivv+++/JzMzEk8PhYNeuXcTFxREZGYmnzz//nOK2b9+OS4sWLXBp3LgxPj4+rF27luK2bdvGs88+y88//8ytatGiBU6nk507d1Lc1q1b8RQXF0fVqlVZtGgR+fn5eMrNzeXLL7/knnvuISIigtulXbt2GGMYNWoUJ0+epEOHDhR35MgRsrOzcTt69Ch2u52qVavi6eLFi3z11Vd4euCBB/D19WXevHkU99NPP7F9+3YeeeQR5H+PQSwnPDycsmXLsmLFCnbv3k1BQQEZGRmMGTOG5cuXExkZSXH169dnyJAh7Nq1i8uXL7N//34GDRrEhQsX6NevHzabDU+XLl1i8uTJZGVl8csvv5CSksKkSZOoU6cOLVq0wCUiIoKePXuyY8cOJk6cSHp6OidPnmThwoWMHDmS+vXr8+CDD3Kr2rZtS2xsLKNGjWLNmjWcP3+e9PR0PvzwQy5duoQnYwyvvPIKmZmZ9O/fnz179nDhwgV27txJYmIiFy9e5OWXX+Z2KleuHPfffz//+te/CAkJoVmzZng6cOAATz/9NH379sWtRo0aFBYWMmXKFM6cOUNubi6bN28mMTGR6OhoPEVERNCnTx9WrVrF6NGjOXToEGfOnGHNmjUMGDCAihUr0qtXL+R/jx2xHGMMo0ePZvr06QwYMACX0qVL06hRI2bMmMGQIUMorlatWtx99928/fbbnD17FpeQkBDGjh1LkyZNKO7tt9/mnXfeoXPnzhQVFWGM4cEHH2TYsGHYbDbc+vbtS0hICJMnT2bBggW4PfTQQwwaNIjfwm63M336dN59913eeecdHA4HNpuNOnXqMGHCBFq3bo2n+vXrM2PGDN5++21eeOEF3O666y4++eQTYmNjud3atWvHN998Q5s2bbDb7XgqU6YMZcqUISYmBrdOnTqRmZnJunXrWLRoEcYYYmNj6d27N6GhoWzfvh1PPXv2JDQ0lPHjx5OSkoKLMYbmzZvzj3/8Az8/P+R/jy0/P9+JWNalS5c4c+YMsbGxGGMoLi8vjxYtWtC7d29eeOEFXH7++Wd8fX2JjIykuI8++oj58+ezZcsWvLy8uHLlCunp6cTExODn58eNOBwOTp48yeXLl4mOjiYgIIDbITc3l6NHj1KpUiWCgoK4mQsXLnDy5Emio6MJCgri9zJv3jymTJnCF198QaVKlSjO4XBgjKE4p9PJoUOHiIiIICgoiJtxOp1kZmZy6dIlqlatiq+vL/K/y45YWnBwMMHBwdyK2NhYSqp06dLUqlWLmzHGEBUVxe3m5+dHrVq1KKmyZctStmxZfk8Oh4Mvv/yS+Ph4KlWqxPUYY7gem83GXXfdRUnZbDYiIyOJjIxExCAit9X333/PqVOnePzxxxH5Ixnkf5rNZiMyMpLg4GBKIjg4mMjISOTGtmzZQrVq1WjRogUifyRbfn6+ExER+T/PICIilmAQERFLMIiIiCUYRETEEgwiImIJBhERsQSDiIhYgkFERCzBICIilmAQERFLMIiIiCUYRETEEgwiImIJBhERsQSDiIhYgkFERCzBICIilmAQERFLMIiIiCUYRETEEgwiImIJBhERsQSDiIhYgkFERCzBICIilmAQERFLMIiIiCUYRETEEgwiImIJBhERsQSDiIhYgkFERCzBICIilmAQERFLMIiIiCXYucM0adIEEZH/C7Zt28adxCAiIpZgEBERS7BzB0tNTUVE5E4SHx/PncogIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQcRCpk6dSmJiItfz4YcfMmzYMG4Hh8PBo48+yvLly3HZsGEDs2bNQuTPZEfEQq5cuUJ2djbFHT9+nC+++IJ27dpx4MABPPn6+hITE8OtMMZw5swZsrOzcfH19WXq1KnUqFGDhIQERP4MdkRKoHfv3hw/fpzi/P39qVix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VERE7iTx8fG4bdu2jTuJQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYOcOlpiYiIiIlIydO1hqaioiIlIyBhERsQQ7d7DExERERO4kM2bM4E5l5w72/PPPIyJyJ5kxYwZ3KoOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGERGxBIOIiFiCQURELMEgIiKWYBAREUswiIiIJRhERMQSDCIiYgkGEYvIycnh4YcfZsuWLRSXmZlJx44d2b17N7fDp59+SteuXXG5dOkSI0eOJCMjA5E/k0HkD5Sfn096ejr5+fncbk6nk/Pnz5Ofn09x06dP59SpUxhjOHDgAAcOHODAgQMcOHCAy5cvc6uuXbtGVlYWLoGBgRw5coQ333wTh8OByJ/FjshvsHjxYqZNm0adOnWYMGECv6awsJCZM2fy7bffcvToUYqKivDy8iImJoaWLVvSp08fjDF4GjduHCtWrODXNGzYkKSkJG7m6NGjrF69GofDQZ8+fSguKSmJli1bciu8vb0pLCzExRjDyJEj6d69O4sXL6Z79+6I/BnsiPwGS5YsITc3l82bN3P8+HGioqK4nqysLF5//XX27dtH69at6dy5M5UrV+bEiROkpaUxffp0tm7dyqhRowgPD8ctNzeXS5cu8eKLL3IjkZGRuGRnZ5Obm8uVK1dwuXjxIqdPnyYwMBAvLy/eeustjDHMnTuX0qVL4zZ79my2bNlC48aN8fT555/jcDj4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" alt="图片" loading="lazy"></p><h1 id="数据备份策略思路" tabindex="-1"><a class="header-anchor" href="#数据备份策略思路" aria-hidden="true">#</a> 数据备份策略思路</h1><ol><li>写crontab定时调度脚本，每小时都copy一份rdb或者aof的备份到目录中去，仅仅保留最近48h的备份。</li><li>每天都保留一份当日的数据到一个目录中去，可以保留最近1个月的备份。</li><li>每次copy备份的时候，都把太旧的备份删除掉。</li><li>每天网上将当前机器的备份复制一份到其他机器上，以防止机器损坏。</li></ol><h1 id="情景题" tabindex="-1"><a class="header-anchor" href="#情景题" aria-hidden="true">#</a> 情景题</h1><p>问题：我们使用一个 2 核 CPU、4GB 内存、500GB 磁盘的云主机运行 Redis，Redis 数据库的数据量大小差不多是 2GB，我们使用了 RDB 做持久化保证。当时 Redis 的运行负载以修改操作为主，写读比例差不多在 8:2 左右，也就是说，如果有 100 个请求，80 个请求执行的是修改操作。你觉得，在这个场景下，用 RDB 做持久化有什么风险吗？你能帮着一起分析分析吗？</p><p>a、内存资源风险：Redis fork子进程做RDB持久化，由于写的比例为80%，那么在持久化过程中，<strong>“写时复制”会重新分配整个实例80%的内存副本</strong>，大约需要重新分配1.6GB内存空间，这样整个系统的内存使用接近饱和，如果此时父进程又有大量新key写入，很快机器内存就会被吃光，如果机器开启了Swap机制，那么Redis会有一部分数据被换到磁盘上，当Redis访问这部分在磁盘上的数据时，性能会急剧下降，已经达不到高性能的标准。如果机器没有开启Swap，会直接触发OOM，父子进程会面临被系统kill掉的风险。</p><p>b、CPU资源风险：虽然子进程在做RDB持久化，但生成RDB快照过程会消耗大量的CPU资源，虽然Redis处理处理请求是单线程的，但Redis Server还有其他线程在后台工作，例如AOF每秒刷盘、异步关闭文件描述符这些操作。由于机器只有2核CPU，这也就意味着父进程占用了超过一半的CPU资源，此时子进程做RDB持久化，可能会产生CPU竞争，导致的结果就是父进程处理请求延迟增大，子进程生成RDB快照的时间也会变长，整个Redis Server性能下降。</p><p>c、另外，可以再延伸一下，如果绑定了CPU，那么子进程会继承父进程的CPU亲和性属性，子进程必然会与父进程争夺同一个CPU资源，整个Redis Server的性能必然会受到影响！所以如果<strong>Redis需要开启定时RDB和AOF重写，进程一定不要绑定CPU。</strong></p><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/noErrorNoBug/docs/edit/master/docs/db/redis/数据持久化原理.md" rel="noopener noreferrer" target="_blank" arialabel="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/3/30 12:03:25</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 749922109@qq.com">sunqiang</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/docs/README.md" class="nav-link prev" arialabel="回到首页"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->回到首页</div></a><a href="/docs/README.md" class="nav-link next" arialabel="回到首页"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">回到首页<!----></div></a></nav><div class="giscus-wrapper" style="display:none;"><!----></div><!----></main><!--]--><footer class="footer-wrapper"><div class="footer">Apache License 2.0 | Copyright © 2018-present noErrorNoBug(sunqiang)</div><!----></footer></div><!--]--><!----><!--[--><!-- Root element of PhotoSwipe. Must have class pswp. --><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><!-- Background of PhotoSwipe. 
    It’s a separate element, as animating opacity is faster than rgba().--><div class="pswp__bg"></div><!-- Slides wrapper with overflow:hidden. --><div class="pswp__scroll-wrap"><!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. --><div class="pswp__container"><!-- don’t modify these 3 pswp__item elements, data is added later on --><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><!--  Controls are self-explanatory. Order can be changed. --><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="关闭"></button><button class="pswp__button pswp__button--share" title="分享"></button><button class="pswp__button pswp__button--fs" title="切换全屏"></button><button class="pswp__button pswp__button--zoom" title="缩放"></button><!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR --><!-- element will get class pswp__preloader--active when preloader is running --><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="上一个 (左箭头)"></button><button class="pswp__button pswp__button--arrow--right" title="下一个 (右箭头)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><!--]--><!----><div id="pwa-install"><!----><div id="install-modal-wrapper" style="display:none;"><div class="background"></div><div class="install-modal"><div class="header"><button class="close-button" aria-label="关闭"><svg xmlns="http://www.w3.org/2000/svg" class="icon close-icon" viewbox="0 0 1024 1024" arialabelledby="close"><title id="close" lang="en">close icon</title><g fill="currentColor"><path d="M589.654 511.965 1007.212 84.22a49.777 49.777 0 0 0-.73-70.02 49.046 49.046 0 0 0-69.687.665L519.967 441.946 85.882 14.2a49.08 49.08 0 0 0-69.687.664 49.777 49.777 0 0 0 .664 70.019l433.454 427.082L16.859 939.048a49.777 49.777 0 0 0-.664 70.019 49.013 49.013 0 0 0 69.687.663l434.085-427.746 416.828 427.083A49.013 49.013 0 0 0 972.037 1024a48.416 48.416 0 0 0 34.512-14.27 49.777 49.777 0 0 0 .73-70.019z"></path></g></svg></button><div class="logo"><!--v-if--><div class="title"><h1></h1><p class="desc">该应用可以安装在你的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和你的操作系统安全地进行交互。</p></div></div></div><div class="content"><div class="highlight"><!--v-if--><!--v-if--></div><div class="description"><h3>详情</h3><p></p></div></div><div class="button-wrapper"><button class="install-button">安装 <span></span></button><button class="cancel-button">取消</button></div></div></div></div><!--]--></div>
    <script type="module" src="/docs/assets/app.7eb989d9.js" defer></script>
  </body>
</html>
