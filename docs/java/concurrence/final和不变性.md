---
title: title
prev:
  text: 回到首页
  link: /README.md
next:
  text: 回到首页
  link: /README.md
---
::: info
文章介绍
:::
[[toc]]

***
# 不变性

如果一个对象被创建后，就不能被修改，那么就是不可变的。这里的不可变指的是对象的引用、成员变量都不可变。

**不可变的对象一定是线程安全的**。

# final的作用

* 修饰一个类防止被继承
    * 只有不可被继承的特点
    * String就是final的
* 修饰一个方法防止方法被重写
    * 不允许修饰构造方法
    * 方法不能被重写，static也能起到这个作用，但是static允许子类写同名方法，因为就是两个不同的静态方法而已（A extend B，A.print()和B.print()）
* 修饰一个变量防止变量被修改
    * 如果是基本类型和String等包装类型，那么值不能被修改
    * 如果变量是引用，则引用不能被修改，被引用的对象自身可以被修改
    * final修饰变量的赋值时机
        * 类中的final变量（必须三选一）：
            * 直接右边等号赋值：final String name = "张三"
            * 构造函数中赋值（类似Spring注入）
            * 初始化代码块中赋值
        * 类中的static final变量
            * 等号右面直接赋值
            * 静态初始代码块赋值
        * 方法中的final变量
            * 使用前必须赋值
* 天生线程安全
# 栈封闭关系

栈内的变量由于是在不同的线程栈中，所以是线程安全的。

