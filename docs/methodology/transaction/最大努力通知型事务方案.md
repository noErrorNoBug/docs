---
title: 最大努力通知型事务方案
prev:
  text: 基于可靠消息的最终一致性方案
  link: /methodology/transaction/基于可靠消息的最终一致性方案.md
next:
  text: 最大努力通知型事务方案
  link: /methodology/transaction/最大努力通知型事务方案.md
---
::: info
&#8195;&#8195;最大努力通知型事务方案是一种弱一致性事务，对于数据一致性要求不高的场景可以使用。
:::
[[toc]]

***
&#8195;&#8195;最大努力通知型事务方案也是基于最终一致性方案实现的一种比较简单的柔性事务解决方案。比较适合对于数据一致性不高的场景。最典型的就是支付系统的支付结果：

![最大努力通知型事务方案](/images/methodology/最大努力通知型事务方案.png)

1. 发起支付。
2. 创建支付订单，支付状态为支付中。
3. 发起第三方支付。
4. 返回结果给支付发起方告知支付正在进行。
5. 第三方发起回调通知支付结果。
6. 支付服务更新支付状态。
7. 第三方提供查询接口，用于支付服务进行查询。

&#8195;&#8195;**最大努力通知型事务的核心，就是如果第三方没有返回一个确认的消息时，一方面进行不断的重试（尽最大努力），另外提供一个查询接口方便查询**。

